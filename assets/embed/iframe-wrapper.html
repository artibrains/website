<!doctype html>
<html lang="es">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <base target="_blank">
    <style>
        html,
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        }

        /* Detect and adapt to parent's color scheme */
        @media (prefers-color-scheme: dark) {

            html,
            body {
                background-color: #1a1a1a;
                color: #e0e0e0;
            }
        }

        @media (prefers-color-scheme: light) {

            html,
            body {
                background-color: #ffffff;
                color: #333333;
            }
        }

        /* Add subtle border and rounded corners for better integration */
        body {
            border-radius: 8px;
            overflow: hidden;
        }
    </style>

    <script>
        // Auto-resize iframe based on content height
        function resizeIframe() {
            const height = Math.max(
                document.body.scrollHeight,
                document.body.offsetHeight,
                document.documentElement.clientHeight,
                document.documentElement.scrollHeight,
                document.documentElement.offsetHeight
            );

            window.parent.postMessage({
                type: 'resize',
                height: height
            }, '*');
        }

        // Detect theme changes and communicate to parent
        function detectTheme() {
            const isDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            window.parent.postMessage({
                type: 'theme',
                isDark: isDark
            }, '*');
        }

        window.addEventListener('load', function () {
            resizeIframe();
            detectTheme();
        });

        window.addEventListener('resize', resizeIframe);

        // Listen for theme changes
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', detectTheme);
    </script>
</head>

<body>
    {{ .Content | safeHTML }}
</body>

</html>